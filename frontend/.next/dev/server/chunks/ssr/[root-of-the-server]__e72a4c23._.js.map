{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/hackos/html/EduStream/frontend/app/login/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, ChangeEvent } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { Lock, Mail, ArrowRight } from 'lucide-react';\n\ninterface AuthResponse {\n  status: string;\n  role?: string;\n  token?: string;\n  detail?: string;\n}\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  const [loading, setLoading] = useState<boolean>(false);\n  const [errorMsg, setErrorMsg] = useState<string>(\"\");\n  const router = useRouter();\n\n  const handleLogin = async () => {\n    if (!email || !password) {\n      setErrorMsg(\"Please fill all fields\");\n      return;\n    }\n\n    setLoading(true);\n    setErrorMsg(\"\");\n\n    try {\n      const res = await fetch(\"http://127.0.0.1:8000/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const data: AuthResponse = await res.json();\n\n      if (res.ok) {\n        if (data.role) localStorage.setItem(\"userRole\", data.role);\n        if (data.token) localStorage.setItem(\"token\", data.token);\n        router.push(\"/dashboard\");\n      } else {\n        setErrorMsg(data.detail || \"Login failed\");\n      }\n    } catch (error: unknown) {\n      console.error(error);\n      setErrorMsg(\"Connection failed. Is backend running?\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-slate-900 text-white p-4\">\n      <div className=\"bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700\">\n        <h1 className=\"text-3xl font-bold text-blue-400 text-center mb-6\">Welcome Back</h1>\n\n        {errorMsg && (\n          <div className=\"bg-red-500/10 border border-red-500 text-red-400 p-3 rounded-lg mb-6 text-sm text-center\">\n            {errorMsg}\n          </div>\n        )}\n\n        <div className=\"space-y-4\">\n          <div className=\"relative\">\n            <Mail className=\"absolute left-3 top-3.5 h-5 w-5 text-slate-500\" />\n            <input \n              className=\"w-full pl-10 p-3 bg-slate-900/50 border border-slate-700 rounded-lg text-white outline-none focus:border-blue-500\" \n              placeholder=\"Email address\" \n              type=\"email\"\n              value={email}\n              onChange={(e: ChangeEvent<HTMLInputElement>) => setEmail(e.target.value)} \n            />\n          </div>\n\n          <div className=\"relative\">\n            <Lock className=\"absolute left-3 top-3.5 h-5 w-5 text-slate-500\" />\n            <input \n              className=\"w-full pl-10 p-3 bg-slate-900/50 border border-slate-700 rounded-lg text-white outline-none focus:border-blue-500\" \n              type=\"password\" \n              placeholder=\"Password\" \n              value={password}\n              onChange={(e: ChangeEvent<HTMLInputElement>) => setPassword(e.target.value)} \n            />\n          </div>\n\n          <button \n            onClick={handleLogin} \n            disabled={loading}\n            className=\"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold p-3 rounded-lg flex items-center justify-center gap-2\"\n          >\n            {loading ? \"Logging in...\" : \"Login\"}\n            {!loading && <ArrowRight className=\"h-4 w-4\" />}\n          </button>\n        </div>\n\n        <p className=\"mt-8 text-center text-slate-400 text-sm\">\n          Don't have an account?{\" \"}\n          <Link href=\"/register\" className=\"text-blue-400 hover:text-blue-300 font-semibold\">\n            Sign Up\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AAJA;;;;;;AAae,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAS;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAChD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAS;IACjD,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,cAAc;QAClB,IAAI,CAAC,SAAS,CAAC,UAAU;YACvB,YAAY;YACZ;QACF;QAEA,WAAW;QACX,YAAY;QAEZ,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,+BAA+B;gBACrD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YAEA,MAAM,OAAqB,MAAM,IAAI,IAAI;YAEzC,IAAI,IAAI,EAAE,EAAE;gBACV,IAAI,KAAK,IAAI,EAAE,aAAa,OAAO,CAAC,YAAY,KAAK,IAAI;gBACzD,IAAI,KAAK,KAAK,EAAE,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;gBACxD,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,YAAY,KAAK,MAAM,IAAI;YAC7B;QACF,EAAE,OAAO,OAAgB;YACvB,QAAQ,KAAK,CAAC;YACd,YAAY;QACd,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAoD;;;;;;gBAEjE,0BACC,8OAAC;oBAAI,WAAU;8BACZ;;;;;;8BAIL,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,0MAAI;oCAAC,WAAU;;;;;;8CAChB,8OAAC;oCACC,WAAU;oCACV,aAAY;oCACZ,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAqC,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAI3E,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,0MAAI;oCAAC,WAAU;;;;;;8CAChB,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAqC,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAI9E,8OAAC;4BACC,SAAS;4BACT,UAAU;4BACV,WAAU;;gCAET,UAAU,kBAAkB;gCAC5B,CAAC,yBAAW,8OAAC,gOAAU;oCAAC,WAAU;;;;;;;;;;;;;;;;;;8BAIvC,8OAAC;oBAAE,WAAU;;wBAA0C;wBAC9B;sCACvB,8OAAC,uKAAI;4BAAC,MAAK;4BAAY,WAAU;sCAAkD;;;;;;;;;;;;;;;;;;;;;;;AAO7F"}}]
}