{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\n\n// In routes par bina login ke nahi ja sakte\nconst protectedRoutes = ['/dashboard', '/live', '/profile', '/teacher']\n\nexport function middleware(request: NextRequest) {\n  // Cookie check karo\n  const token = request.cookies.get('token')?.value\n\n  // Agar user protected route par ja raha hai aur token nahi hai\n  if (protectedRoutes.some(route => request.nextUrl.pathname.startsWith(route))) {\n    if (!token) {\n      // Login par bhej do\n      return NextResponse.redirect(new URL('/login', request.url))\n    }\n  }\n\n  // Agar user Login/Register par hai aur token pehle se hai (Logged in hai)\n  if (request.nextUrl.pathname === '/login' || request.nextUrl.pathname === '/register') {\n    if (token) {\n        // Seedha Dashboard bhej do\n        return NextResponse.redirect(new URL('/dashboard', request.url))\n    }\n  }\n\n  return NextResponse.next()\n}\n\n// Kin routes par ye middleware chalega\nexport const config = {\n  matcher: ['/dashboard/:path*', '/live/:path*', '/profile/:path*', '/teacher/:path*', '/login', '/register'],\n}"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGA,4CAA4C;AAC5C,MAAM,kBAAkB;IAAC;IAAc;IAAS;IAAY;CAAW;AAEhE,SAAS,WAAW,OAAoB;IAC7C,oBAAoB;IACpB,MAAM,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC,UAAU;IAE5C,+DAA+D;IAC/D,IAAI,gBAAgB,IAAI,CAAC,CAAA,QAAS,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS;QAC7E,IAAI,CAAC,OAAO;YACV,oBAAoB;YACpB,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;QAC5D;IACF;IAEA,0EAA0E;IAC1E,IAAI,QAAQ,OAAO,CAAC,QAAQ,KAAK,YAAY,QAAQ,OAAO,CAAC,QAAQ,KAAK,aAAa;QACrF,IAAI,OAAO;YACP,2BAA2B;YAC3B,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;QAClE;IACF;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAGO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAqB;QAAgB;QAAmB;QAAmB;QAAU;KAAY;AAC7G"}}]
}